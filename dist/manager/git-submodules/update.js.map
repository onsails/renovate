{"version":3,"file":"update.js","sourceRoot":"","sources":["../../../lib/manager/git-submodules/update.ts"],"names":[],"mappings":";;;;;AAAA,4DAA6B;AAC7B,kDAA0B;AAIX,KAAK,UAAU,gBAAgB,CAAC,EAC7C,WAAW,EACX,OAAO,GACgB;IACvB,MAAM,GAAG,GAAG,oBAAG,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;IAClC,MAAM,YAAY,GAAG,oBAAG,CAAC,eAAK,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC;IAExE,IAAI;QACF,MAAM,GAAG,CAAC,eAAe,CAAC,CAAC,QAAQ,EAAE,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC;QACvD,MAAM,YAAY,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;QAClD,OAAO,WAAW,CAAC;KACpB;IAAC,OAAO,GAAG,EAAE;QACZ,OAAO,IAAI,CAAC;KACb;AACH,CAAC;AAdD,mCAcC","sourcesContent":["import Git from 'simple-git';\nimport upath from 'upath';\n\nimport { UpdateDependencyConfig } from '../common';\n\nexport default async function updateDependency({\n  fileContent,\n  upgrade,\n}: UpdateDependencyConfig): Promise<string | null> {\n  const git = Git(upgrade.localDir);\n  const submoduleGit = Git(upath.join(upgrade.localDir, upgrade.depName));\n\n  try {\n    await git.submoduleUpdate(['--init', upgrade.depName]);\n    await submoduleGit.checkout([upgrade.newVersion]);\n    return fileContent;\n  } catch (err) {\n    return null;\n  }\n}\n"]}