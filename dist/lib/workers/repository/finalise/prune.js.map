{"version":3,"file":"prune.js","sourceRoot":"","sources":["../../../../../lib/workers/repository/finalise/prune.ts"],"names":[],"mappings":"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"}