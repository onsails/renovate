{"version":3,"file":"semantic.js","sourceRoot":"","sources":["../../../../lib/workers/repository/init/semantic.ts"],"names":[],"mappings":";;;;;;AAAA,kGAAwE;AACxE,4CAAyC;AACzC,2CAAsD;AAI/C,KAAK,UAAU,qBAAqB;IACzC,eAAM,CAAC,KAAK,CAAC,yBAAyB,CAAC,CAAC;IACxC,MAAM,cAAc,GAAG,MAAM,uBAAiB,EAAE,CAAC;IACjD,eAAM,CAAC,KAAK,CAAC,kBAAkB,IAAI,CAAC,SAAS,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC;IACjE,MAAM,IAAI,GAAG,uCAA2B,CAAC,cAAc,CAAC,CAAC;IACzD,eAAM,CAAC,KAAK,CAAC,8BAA8B,GAAG,IAAI,CAAC,CAAC;IACpD,IAAI,IAAI,KAAK,SAAS,EAAE;QACtB,eAAM,CAAC,KAAK,CAAC,mCAAmC,CAAC,CAAC;QAClD,OAAO,SAAS,CAAC;KAClB;IACD,eAAM,CAAC,KAAK,CAAC,8BAA8B,CAAC,CAAC;IAC7C,OAAO,UAAU,CAAC;AACpB,CAAC;AAZD,sDAYC","sourcesContent":["import conventionalCommitsDetector from 'conventional-commits-detector';\nimport { logger } from '../../../logger';\nimport { getCommitMessages } from '../../../util/git';\n\ntype DetectedSemanticCommit = 'enabled' | 'disabled';\n\nexport async function detectSemanticCommits(): Promise<DetectedSemanticCommit> {\n  logger.debug('detectSemanticCommits()');\n  const commitMessages = await getCommitMessages();\n  logger.trace(`commitMessages=${JSON.stringify(commitMessages)}`);\n  const type = conventionalCommitsDetector(commitMessages);\n  logger.debug('Semantic commits detection: ' + type);\n  if (type === 'angular') {\n    logger.debug('angular semantic commits detected');\n    return 'enabled';\n  }\n  logger.debug('No semantic commits detected');\n  return 'disabled';\n}\n"]}